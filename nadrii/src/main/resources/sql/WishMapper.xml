<?xml version="1.0" encoding="UTF-8" ?>

<!DOCTYPE mapper
		PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
		"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="WishMapper">

	<resultMap type="wish" id="WishSelectMap">
		<result property="wishNo" column="wish_no" jdbcType="NUMERIC"/>
		<result property="userId" column="user_id" jdbcType="VARCHAR"/>
		<result property="tripNo" column="trip_no" jdbcType="NUMERIC"/>
		<result property="postNo" column="post_no" jdbcType="NUMERIC"/>
		<result property="imageFile" column="image_file" jdbcType="VARCHAR"/>
	</resultMap>
	
	
	<!-- SQL: INSERT -->
	<insert id="addWishFromTrip" parameterType="wish">
		INSERT
		INTO wish(wish_no, user_id, trip_no, post_no, image_file)
		
		VALUES(
		seq_wish_wish_no.nextval,
		#{userId},
		#{tripNo},
		null,
		#{imageFile})
	
	</insert>
	
	<insert id="addWishFromPost" parameterType="wish">
		INSERT
		INTO wish(wish_no, user_id, trip_no, post_no, image_file)
		
		VALUES(
		seq_wish_wish_no.nextval,
		#{userId},
		null,
		#{postNo},
		#{imageFile})
	
	</insert>
	
	<select id="getWish" parameterType="integer" resultMap="WishSelectMap">
		SELECT
			wish_no, 
			user_id, 
			trip_no, 
			post_no, 
			image_file
		FROM wish
		WHERE wish_no = #{wishNo}	
	
	
	</select>
	
	<select id="listWish" parameterType="string" resultMap="tripSelectMap">
		SELECT
			wish_no, 
			user_id, 
			trip_no, 
			post_no, 
			image_file
		FROM wish
		WHERE user_id = #{userId}	
	
	
	</select>
	
	<delete id="deleteWish" parameterType="integer">
		DELETE 
		FROM wish
		WHERE wish_no = #{wishNo}
		
	</delete>
	 
</mapper>